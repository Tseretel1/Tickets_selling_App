<div class="Modal" *ngIf="ModalVisible">
    <div class="ModalWindow">
        <p class="ModalMessage">{{ModalMessgae}}</p>
    </div>
</div>
<div class="ticketbody" *ngIf="EditTicket">   
    <div class="CancelAdingticket">
        <button class="CancelAdingticketButton" (click)="CancelTicketCreation()">Back</button>   
    </div>
  <div class="centerTicketMaker">
    <form [formGroup]="ticketForm"  (submit)="addTicket()" class="TicketFormm">
      <div class="FormAlign" cdkDrag>
        <div class="FirstHalf">
          <div class="halfcolumn">
            <div class="DescriptionValue">
              <p class="inputvalues">Price</p>
              <p class="inputvalues"><input id="price" [formControl]="Price" type="number" class="TicketInputs pricetag" placeholder="Price">  </p> 
            </div>
            
            <div class="DateGroup">
              <label for="activation-date" class="Date">Activation Date</label>
              <div class="DateAlign">
                  <input  id="activationdate" [formControl]="Date" type="date" class="dateStyle">
                  <label for="activation-date" class="Date">Time <mat-icon class="iconsize">access_time</mat-icon></label>
                  <input  [formControl]="Time" class="Time" type="time" id="activationtime">    
              </div>            
           </div>
          </div>
         <!--TicketPreview-->
            <div class="MakingTitcket">
              <div class="TicketPreview">
                <div class="DateAlign">
                  <label>Title</label>
                  <input id="title" [formControl]="title" type="text" class="TicketInputs" maxlength="80" placeholder="Add Title here..">
                </div>
                <div class="ImagePreview">
                  <div class="photoAlign">
                    <button (click)="triggerFileInput()" class="photoinput"><mat-icon>photo_camera</mat-icon>Upload Photo</button>
                    <input id="photo" formControlName="Photo" type="file" (change)="onFileChange($event)" accept="image/*" hidden>
                  </div>
                  <img [src]="imagePreview" class="imagepreviewphoto">
                </div>
                <div class="DescriptionValue">
                  <p class="inputvalues">Description</p>
                  <input id="description" [formControl]="Description" type="text" class="DescriptionIput TicketInputs"  placeholder="Add Description Here..." [maxlength]="800">   
                </div>
              </div>
            </div>
            <div class="halfcolumn">
              <div class="genreparent">
                <label for="genre">Genre</label>
                <select id="genre" formControlName="Genre" [formControl]="Genre" class="genre"> 
                  <option class="GenreOption" value="" disabled selected>Select a genre</option>
                  <option class="GenreOption" value="Football">Football</option>
                  <option class="GenreOption" value="Animation">Animation</option>
                  <option class="GenreOption" value="Music">Music</option>
                </select>
              </div>
              <div class="DateGroup">
                <label for="activation-date" class="Date">Expiration</label>
                <div class="DateAlign">
                    <input  id="activation-date" formControlName="Expiration_Date"type="date" class="dateStyle" id="expirationdate">
                    <label for="activation-date" class="Date">Time <mat-icon class="iconsize">access_time</mat-icon></label>
                    <input id="activation-time" formControlName="ExpirationTime" type="time"class="Time" id="expirationtime">    
                </div>     
            </div> 
           </div>
        </div>
       <div class="SecondHalf">
          <div class="TicketCountParent">
            <label for="ticketCount">How many Tickets do you want to create?</label>
            <input type="number" formControlName="TicketCount" class="TicketInputs" placeholder="00000">
          </div>
          <div class="centercreationbutton">
             <button type="submit" class="CreateTicketButton" [disabled]="ticketForm.valid == false">Create Ticket</button>
          </div>
        </div>
      </div>
   </form>  
  </div>
</div>





<!--My tickets-->
<div class="CenterEverything">  
    <div class="Ticket_parent" *ngIf="EditTicket == false">
      <div class="TicketWrap">
        <div  class="AddTicketCard">
            <button class="Createticketbutton" (click)="CreateTicketButton()">
               <mat-icon>add</mat-icon>Add New Ticket
            </button>
        </div>
        <div class="Ticket" *ngFor="let tkt of MyTickets; let i = index" [ngClass]="{'expired-ticket': isExpired(tkt)}" [routerLink]="['/EventCreator/Crud', tkt.id]">
            <div class="SoldTicketCount"> <mat-icon class="iconsize">confirmation_number</mat-icon> {{tkt.ticketCount}}</div>
            <div class="Editticket">
              <p class="edittext"><mat-icon class="editicon">edit</mat-icon> Edit Ticket</p>
            </div> 
            <div class="TicketFlex">
              <div class="leftSide">
    
                <div class="titlecenter">
                  <p class="Ticket_Title"> {{tkt.title}}</p>
                </div>
                <div class="TicketImageContainer">
                  <img [src]="tkt.photo" alt="" class="ticketimage" *ngIf="tkt.photo">
                </div>
              </div>
            </div>
            <div class="publisherData">
              <div class="data_style Price">
                <p class="Data_Titles">
                  <mat-icon class="iconsize">calendar_today</mat-icon>
                </p>
                <p>{{ tkt.activation_Date | date: 'MMM d' }}</p>
              </div>
              <p class="view data_style">
                <mat-icon class="iconsize">visibility</mat-icon>{{tkt.viewCount}}
              </p>
         </div>
        </div>
      </div>
    </div> 
  </div>
  